import{_ as a,c as e,o as t,a as s}from"./app-BJ9HRwS6.js";const n={},d=s(`<h1 id="图片暂存" tabindex="-1"><a class="header-anchor" href="#图片暂存"><span>图片暂存</span></a></h1><p>能通过一个接口将 Base64 编码的图片解码后暂存，通过第二个接口获取图片。</p><p>用于处理只能拿到图片 Base64，但使用时需要提供图片地址的场景。</p><h2 id="上传图片" tabindex="-1"><a class="header-anchor" href="#上传图片"><span>上传图片</span></a></h2><p>上传图片进行保存的接口，要注意目前图片只会留存 120 秒。</p><p>之后可能会加入调整过期时间的参数。</p><h3 id="请求" tabindex="-1"><a class="header-anchor" href="#请求"><span>请求</span></a></h3><ul><li>Method: <code>POST</code></li><li>Content Type: <code>application/json</code></li><li>URL: <code>/api/upload_image</code></li></ul><h3 id="参数" tabindex="-1"><a class="header-anchor" href="#参数"><span>参数</span></a></h3><table><thead><tr><th>字段</th><th>类型</th><th>必填</th><th>描述</th></tr></thead><tbody><tr><td><code>base64</code></td><td>string</td><td>true</td><td>图片数据（<code>data</code> 头信息可有可无）</td></tr><tr><td><code>mime_type</code></td><td>string</td><td>false</td><td>图片 MIME 类型（默认 <code>image/png</code>，内容可以为空，但字段需要传）</td></tr></tbody></table><h3 id="响应" tabindex="-1"><a class="header-anchor" href="#响应"><span>响应</span></a></h3><table><thead><tr><th>字段</th><th>类型</th><th>描述</th></tr></thead><tbody><tr><td><code>success</code></td><td>boolean</td><td>是否成功</td></tr><tr><td><code>message</code></td><td>string</td><td>错误信息</td></tr><tr><td><code>data</code></td><td>string</td><td>临时图片 id</td></tr></tbody></table><h3 id="示例" tabindex="-1"><a class="header-anchor" href="#示例"><span>示例</span></a></h3><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="line"><span class="token function">curl</span> <span class="token parameter variable">--location</span> <span class="token string">&#39;localhost:56789/api/upload_image&#39;</span> <span class="token punctuation">\\</span></span>
<span class="line"><span class="token parameter variable">--header</span> <span class="token string">&#39;Content-Type: application/json&#39;</span> <span class="token punctuation">\\</span></span>
<span class="line"><span class="token parameter variable">--data</span> <span class="token string">&#39;{</span>
<span class="line">    &quot;base64&quot;: &quot;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAANCAYAAAB/9ZQ7AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAAEnQAABJ0Ad5mH3gAAABvSURBVChTYxAUFPyPjv39/f+XlZX9V1RUhPOrq6v/YygGKQAptLGxgYtJSkr+z87OxlQMUgQyRV9fH0U8MTERUzG6E5DF6aiYJDeDFIEUExUaIAwyBT2cQXysikEYpKGhoQGMYRpxKsaGaaVY8D8A62DM8fYR+7EAAAAASUVORK5CYII=&quot;,</span>
<span class="line">    &quot;mime_type&quot;: &quot;image/png&quot;</span>
<span class="line">}&#39;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="访问图片" tabindex="-1"><a class="header-anchor" href="#访问图片"><span>访问图片</span></a></h2><p>通过上传图片后得到的临时 id 访问图片。</p><p>响应的 \`Content-Type\`\` 为图片的 MIME 类型。</p><h3 id="请求-1" tabindex="-1"><a class="header-anchor" href="#请求-1"><span>请求</span></a></h3><ul><li>Method: <code>GET</code></li><li>Content Type: <code>application/json</code></li><li>URL: <code>/api/get_image/{id}</code></li></ul><h3 id="参数-1" tabindex="-1"><a class="header-anchor" href="#参数-1"><span>参数</span></a></h3><table><thead><tr><th>字段</th><th>类型</th><th>必填</th><th>描述</th></tr></thead><tbody><tr><td><code>id</code></td><td>string</td><td>true</td><td>临时图片 id</td></tr></tbody></table><h3 id="示例-1" tabindex="-1"><a class="header-anchor" href="#示例-1"><span>示例</span></a></h3><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="line"><span class="token function">curl</span> <span class="token parameter variable">--location</span> <span class="token string">&#39;localhost:56789/api/get_image/0a7a384b-d77a-496a-af3c-c8e7aae04d16&#39;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div>`,23),l=[d];function i(c,o){return t(),e("div",null,l)}const p=a(n,[["render",i],["__file","image-upload.html.vue"]]),h=JSON.parse('{"path":"/apis/modules/image-upload.html","title":"图片暂存","lang":"en-US","frontmatter":{},"headers":[{"level":2,"title":"上传图片","slug":"上传图片","link":"#上传图片","children":[{"level":3,"title":"请求","slug":"请求","link":"#请求","children":[]},{"level":3,"title":"参数","slug":"参数","link":"#参数","children":[]},{"level":3,"title":"响应","slug":"响应","link":"#响应","children":[]},{"level":3,"title":"示例","slug":"示例","link":"#示例","children":[]}]},{"level":2,"title":"访问图片","slug":"访问图片","link":"#访问图片","children":[{"level":3,"title":"请求","slug":"请求-1","link":"#请求-1","children":[]},{"level":3,"title":"参数","slug":"参数-1","link":"#参数-1","children":[]},{"level":3,"title":"示例","slug":"示例-1","link":"#示例-1","children":[]}]}],"git":{"updatedTime":1723120832000,"contributors":[{"name":"Erioifpud","email":"erioifpud@zuo.si","commits":2}]},"filePathRelative":"apis/modules/image-upload.md"}');export{p as comp,h as data};
